
<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<link href="css/style.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js"></script>

<script>
  var app = angular.module('userApp', []);
var url_string = window.location.href
var url = new URL(url_string);
var id = url.searchParams.get("id");
console.log(id);


  app.controller('updateCtrl', function($scope,  $http,  $location) {

  var user = {"id":id}
     $http.post("http://localhost:2021/getUser",user )
    .then(function(response) {
      $scope.data = response.data;
      console.log($scope.data);
    });

   $scope.update = function(){
   $http.post("http://localhost:2021/update",$scope.data )
    .then(function(response) {
      $scope.data = response.data;
      console.log($scope.data);
    });
};

});


</script>
</head>
<body ng-app="userApp" ng-controller="updateCtrl">
<div class="col-md-6">
  <h2 class="text-center">Edit User</h2>
  <form >
   
  
    <div class="form-group">
      <input ng-model="data.fname" formControlName="FirstName" placeholder="First Name" name="FirstName" class="form-control" id="FirstName">
    </div>

    <div class="form-group">
        <input ng-model="data.sname" formControlName="LastName" placeholder="Last Name" name="LastName" class="form-control" id="LastName">
    </div>

    <div class="form-group">
      <input  ng-model="data.email" formControlName="Email" placeholder="Email" name="Email" class="form-control" id="Email" >
    </div>

     <div class="form-group">
      <input  ng-model="data.username" formControlName="username" placeholder="Username" name="Username" class="form-control" id="Email" disabled>
    </div>

    <div class="form-group">
      <input  ng-model="data.phone" formControlName="phone" placeholder="phone" name="phone" class="form-control" id="phone" >
    </div>

    <div class="form-group">
      <input  ng-model="data.cell" formControlName="cell" placeholder="Cell" name="Cell" class="form-control" id="Cell" >
    </div>
   
    <div class="form-group">
      <input  ng-model="data.street" formControlName="Street" placeholder="Address" name="Address" class="form-control" id="Address">
    </div>

      <div class="form-group">
      <input  ng-model="data.city" formControlName="city" placeholder="City" name="city" class="form-control" id="city">
    </div>
      <div class="form-group">
      <input  ng-model="data.state" formControlName="state" placeholder="state" name="state" class="form-control" id="state">
    </div>
      <div class="form-group">
      <input  ng-model="data.postcode" formControlName="postcode" placeholder="postcode" name="postcode" class="form-control" id="postcode">
    </div>
    <td> <button class="btn btn-info" data="{{user.id}}" ng-click ="update()">Update</button> </td>

  </form>
</div>
</body>
</div>
</html>